// Enhanced Batch Management Theme
// Light theme with #7367F0 primary color and dark gray text

// Import Vuexy variables
@import '../../../../styles/vuexy-vars';

// Enhanced Color Palette for Batch Management
$batch-primary: #7367F0;
$batch-primary-hover: #5E50EE;
$batch-primary-light: rgba(115, 103, 240, 0.08);
$batch-primary-lighter: rgba(115, 103, 240, 0.04);

$batch-text-primary: #4B4B4B;
$batch-text-secondary: #6E6B7B;
$batch-text-muted: #B8B8B8;
$batch-text-card-title: #5E5873;

$batch-bg-page: #F8F7FA;
$batch-bg-card: #FFFFFF;
$batch-bg-table-alt: #F8F7FA;
$batch-bg-header: #F3F2F7;

// Status Colors
$batch-status-expired: #EA5455;
$batch-status-critical: #FF9F43;
$batch-status-warning: #F6E05E;
$batch-status-normal: #28C76F;
$batch-status-active: #28C76F;
$batch-status-depleted: #9E9E9E;
$batch-status-quarantined: #FF9F43;

// Expiry Status Backgrounds
$batch-expired-bg: linear-gradient(90deg, #FFF5F5 0%, #FFFFFF 8%);
$batch-critical-bg: linear-gradient(90deg, #FFF7ED 0%, #FFFFFF 8%);
$batch-warning-bg: linear-gradient(90deg, #FFFBEB 0%, #FFFFFF 8%);
$batch-normal-bg: linear-gradient(90deg, #F0FFF4 0%, #FFFFFF 8%);

// Shadows and Effects
$batch-shadow-card: 0 4px 24px 0 rgba(34, 41, 47, .1);
$batch-shadow-hover: 0 4px 16px rgba(34, 41, 47, .12);
$batch-shadow-elevated: 0 2px 8px rgba(34, 41, 47, .08);

// Border Radius
$batch-radius-card: 8px;
$batch-radius-button: 6px;
$batch-radius-input: 6px;

// Spacing
$batch-spacing-xs: 4px;
$batch-spacing-sm: 8px;
$batch-spacing-md: 12px;
$batch-spacing-lg: 16px;
$batch-spacing-xl: 20px;
$batch-spacing-xxl: 24px;
$batch-spacing-xxxl: 32px;

// Enhanced Search Field Styling
@mixin batch-search-field {
    .mat-mdc-form-field {
        background-color: $batch-bg-card;
        border-radius: $batch-radius-input;

        // Focus state with #7367F0 border
        &.mat-focused {

            .mdc-notched-outline__leading,
            .mdc-notched-outline__notch,
            .mdc-notched-outline__trailing {
                border-color: $batch-primary !important;
                border-width: 2px !important;
            }

            .mat-mdc-floating-label {
                color: $batch-primary !important;
            }
        }

        // Hover state
        &:hover:not(.mat-focused) {

            .mdc-notched-outline__leading,
            .mdc-notched-outline__notch,
            .mdc-notched-outline__trailing {
                border-color: $batch-primary !important;
            }
        }

        // Input text styling
        .mat-mdc-input-element {
            color: $batch-text-primary !important;
            caret-color: $batch-primary !important;

            &::placeholder {
                color: $batch-primary !important;
                opacity: 0.7;
                font-style: italic;
            }
        }

        // Icon styling
        .mat-icon {
            color: $batch-primary !important;
        }
    }
}

// Enhanced Card Styling
@mixin batch-card {
    background-color: $batch-bg-card;
    border-radius: $batch-radius-card;
    box-shadow: $batch-shadow-card;
    border: 1px solid #EBE9F1;
    margin-bottom: $batch-spacing-xl;

    .mat-mdc-card-header {
        background-color: $batch-bg-header;
        border-bottom: 1px solid #E0E0E0;
        padding: $batch-spacing-xxl;

        .mat-mdc-card-title {
            color: $batch-text-card-title !important;
            font-weight: 600;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: $batch-spacing-sm;

            .mat-icon {
                color: $batch-primary !important;
            }
        }

        .mat-mdc-card-subtitle {
            color: $batch-text-secondary !important;
            margin-top: $batch-spacing-xs;
        }
    }

    .mat-mdc-card-content {
        padding: $batch-spacing-xxl;
        color: $batch-text-primary;
    }
}

// Enhanced Table Styling
@mixin batch-table {
    background: $batch-bg-card;
    border-radius: $batch-radius-card;
    overflow: hidden;
    box-shadow: $batch-shadow-card;

    .mat-mdc-header-row {
        background: $batch-bg-header;

        .mat-mdc-header-cell {
            color: $batch-text-secondary;
            font-weight: 600;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: $batch-spacing-md $batch-spacing-xxl;
        }
    }

    .mat-mdc-row {
        &:nth-child(even) {
            background-color: $batch-bg-table-alt;
        }

        &:hover {
            background: $batch-primary-lighter !important;
            transform: translateY(-1px);
            transition: all 0.2s ease;
        }

        .mat-mdc-cell {
            color: $batch-text-primary;
            font-weight: 400;
            padding: $batch-spacing-md $batch-spacing-xxl;
        }
    }
}

// Status Badge Styling
@mixin batch-status-badge($status) {
    @if $status =='expired' {
        background-color: $batch-status-expired !important;
        color: white !important;
    }

    @else if $status =='critical' {
        background-color: $batch-status-critical !important;
        color: white !important;
    }

    @else if $status =='warning' {
        background-color: $batch-status-warning !important;
        color: #B7791F !important;
    }

    @else if $status =='normal' or $status =='active' {
        background-color: $batch-status-normal !important;
        color: white !important;
    }

    @else if $status =='depleted' {
        background-color: $batch-status-depleted !important;
        color: white !important;
    }

    @else if $status =='quarantined' {
        background-color: $batch-status-quarantined !important;
        color: white !important;
    }

    border-radius: 20px;
    padding: $batch-spacing-xs $batch-spacing-md;
    font-size: 12px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

// Expiry Card Styling
@mixin batch-expiry-card($level) {
    background: $batch-bg-card;
    border-left: 4px solid;
    border-radius: $batch-radius-card;
    padding: $batch-spacing-lg $batch-spacing-xl;
    margin-bottom: $batch-spacing-md;
    box-shadow: $batch-shadow-elevated;
    transition: all 0.2s ease;

    &:hover {
        box-shadow: $batch-shadow-hover;
        transform: translateY(-1px);
    }

    @if $level =='expired' {
        border-left-color: $batch-status-expired;
        background: $batch-expired-bg;
    }

    @else if $level =='critical' {
        border-left-color: $batch-status-critical;
        background: $batch-critical-bg;
    }

    @else if $level =='warning' {
        border-left-color: $batch-status-warning;
        background: $batch-warning-bg;
    }

    @else if $level =='normal' {
        border-left-color: $batch-status-normal;
        background: $batch-normal-bg;
    }
}

// Button Styling
@mixin batch-button-primary {
    background-color: $batch-primary !important;
    color: white !important;
    border: none;
    border-radius: $batch-radius-button;
    padding: $batch-spacing-sm $batch-spacing-lg;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.4px;
    transition: all 0.2s ease;

    &:hover:not(:disabled) {
        background-color: $batch-primary-hover !important;
        box-shadow: 0 4px 12px rgba(115, 103, 240, 0.4);
        transform: translateY(-1px);
    }

    &:focus {
        box-shadow: 0 0 0 3px rgba(115, 103, 240, 0.3);
    }

    .mat-icon {
        color: white !important;
    }
}

@mixin batch-button-outline {
    background-color: transparent !important;
    color: $batch-primary !important;
    border: 1px solid $batch-primary;
    border-radius: $batch-radius-button;
    padding: $batch-spacing-sm $batch-spacing-lg;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.4px;
    transition: all 0.2s ease;

    &:hover:not(:disabled) {
        background-color: $batch-primary-light !important;
        color: $batch-primary-hover !important;
        border-color: $batch-primary-hover;
    }

    .mat-icon {
        color: $batch-primary !important;
    }
}

// Form Field Styling
@mixin batch-form-field {
    .mat-mdc-form-field {
        background-color: $batch-bg-card;

        // Enhanced border styling - always visible with #7367F0
        .mdc-notched-outline__leading,
        .mdc-notched-outline__notch,
        .mdc-notched-outline__trailing {
            border-color: $batch-primary !important;
            border-width: 1px !important;
        }

        // Focus state with thicker border
        &.mat-focused {

            .mdc-notched-outline__leading,
            .mdc-notched-outline__notch,
            .mdc-notched-outline__trailing {
                border-color: $batch-primary !important;
                border-width: 2px !important;
            }
        }

        // Hover state
        &:hover:not(.mat-focused) {

            .mdc-notched-outline__leading,
            .mdc-notched-outline__notch,
            .mdc-notched-outline__trailing {
                border-color: $batch-primary !important;
            }
        }

        // Label styling - always visible and #7367F0
        .mat-mdc-floating-label {
            color: $batch-primary !important;
            opacity: 1 !important;
            visibility: visible !important;
        }

        &.mat-focused .mat-mdc-floating-label {
            color: $batch-primary !important;
        }

        // Alternative label selectors
        mat-label {
            color: $batch-primary !important;
            opacity: 1 !important;
            visibility: visible !important;
        }

        // Input text styling
        .mat-mdc-input-element {
            color: $batch-text-primary !important;
            caret-color: $batch-primary !important;

            // Enhanced placeholder styling with #7367F0
            &::placeholder {
                color: $batch-primary !important;
                opacity: 0.7 !important;
                font-style: italic;
            }

            &::-webkit-input-placeholder {
                color: $batch-primary !important;
                opacity: 0.7 !important;
                font-style: italic;
            }

            &::-moz-placeholder {
                color: $batch-primary !important;
                opacity: 0.7 !important;
                font-style: italic;
            }

            &:-ms-input-placeholder {
                color: $batch-primary !important;
                opacity: 0.7 !important;
                font-style: italic;
            }
        }

        // Select field styling
        .mat-mdc-select-value-text {
            color: $batch-text-primary !important;
        }

        .mat-mdc-select-placeholder {
            color: $batch-primary !important;
            opacity: 0.7 !important;
            font-style: italic;
        }

        .mat-mdc-select-arrow {
            color: $batch-primary !important;
        }

        // Custom properties for Material Design Components
        --mdc-outlined-text-field-outline-color: #{$batch-primary} !important;
        --mdc-outlined-text-field-focus-outline-color: #{$batch-primary} !important;
        --mdc-outlined-text-field-hover-outline-color: #{$batch-primary} !important;
        --mdc-outlined-text-field-label-text-color: #{$batch-primary} !important;
        --mdc-outlined-text-field-focus-label-text-color: #{$batch-primary} !important;
        --mat-form-field-label-text-color: #{$batch-primary} !important;
        --mat-form-field-focus-label-text-color: #{$batch-primary} !important;
    }
}

// Summary Card Styling
@mixin batch-summary-card($type) {
    @include batch-card;
    border-left: 4px solid;

    @if $type =='expired' {
        border-left-color: $batch-status-expired;
    }

    @else if $type =='critical' {
        border-left-color: $batch-status-critical;
    }

    @else if $type =='warning' {
        border-left-color: $batch-status-warning;
    }

    @else if $type =='normal' {
        border-left-color: $batch-status-normal;
    }

    @else if $type =='total' {
        border-left-color: $batch-primary;
    }

    .summary-content {
        display: flex;
        align-items: center;
        gap: $batch-spacing-lg;

        .mat-icon {
            font-size: 32px;
            width: 32px;
            height: 32px;

            @if $type =='expired' {
                color: $batch-status-expired;
            }

            @else if $type =='critical' {
                color: $batch-status-critical;
            }

            @else if $type =='warning' {
                color: $batch-status-warning;
            }

            @else if $type =='normal' {
                color: $batch-status-normal;
            }

            @else if $type =='total' {
                color: $batch-primary;
            }
        }

        .summary-text {
            .count {
                font-size: 24px;
                font-weight: 600;
                line-height: 1;
                color: $batch-text-primary;
            }

            .label {
                font-size: 14px;
                color: $batch-text-secondary;
                margin-top: $batch-spacing-xs;
            }
        }
    }
}

// Responsive Design Mixins
@mixin batch-mobile {
    @media (max-width: 768px) {
        @content;
    }
}

@mixin batch-tablet {
    @media (min-width: 769px) and (max-width: 1024px) {
        @content;
    }
}

@mixin batch-desktop {
    @media (min-width: 1025px) {
        @content;
    }
}

// Accessibility Mixins
@mixin batch-focus-visible {
    &:focus-visible {
        outline: 2px solid $batch-primary;
        outline-offset: 2px;
    }
}

@mixin batch-high-contrast {
    @media (prefers-contrast: high) {
        @content;
    }
}

// Animation Mixins
@mixin batch-smooth-transition {
    transition: all 0.2s ease;
}

@mixin batch-hover-lift {
    &:hover {
        transform: translateY(-1px);
        box-shadow: $batch-shadow-hover;
    }
}